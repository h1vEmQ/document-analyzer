# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ AttributeError: 'FieldFile' object has no attribute 'content_type'

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
AttributeError: 'FieldFile' object has no attribute 'content_type'
```

## üîç –ü—Ä–∏—á–∏–Ω–∞
–í —Å–µ—Ä–≤–∏—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`documents/services.py`) –∫–æ–¥ –ø—ã—Ç–∞–ª—Å—è –ø–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç `content_type` —É –æ–±—ä–µ–∫—Ç–∞ `FieldFile`, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —ç—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–ó–∞–º–µ–Ω–∏–ª–∏ –ø—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ `file.content_type` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ —Å –ø–æ–º–æ—â—å—é `getattr()`:

### –ë—ã–ª–æ:
```python
'content_type': file.content_type
```

### –°—Ç–∞–ª–æ:
```python
'content_type': getattr(file, 'content_type', 'application/octet-stream')
```

## üìç –ú–µ—Å—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
**–§–∞–π–ª:** `/Users/wind/Documents/WARA/documents/services.py`  
**–°—Ç—Ä–æ–∫–∞:** 326  
**–ú–µ—Ç–æ–¥:** `DocumentValidationService.validate_upload()`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç –ø–æ–∫–∞–∑–∞–ª:
```
‚úÖ –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å: True
üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ: {
    'name': 'test_document_20251004_105109.docx', 
    'size': 37952, 
    'size_mb': 0.04, 
    'extension': '.docx', 
    'content_type': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
}
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ **–û—à–∏–±–∫–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞** - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Ñ–∞–π–ª—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞** - –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **Fallback –¥–æ–±–∞–≤–ª–µ–Ω** - –µ—Å–ª–∏ `content_type` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üöÄ
