# ‚úÖ –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–ï –û–¢–ß–ï–¢–û–í PDF –ò DOCX

## üéâ –§–£–ù–ö–¶–ò–Ø –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê

---

## üìã –û–±–∑–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤–ª–µ–Ω–∞ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤** –≤ WARA. –¢–µ–ø–µ—Ä—å –≤—Å–µ –æ—Ç—á–µ—Ç—ã PDF –∏ DOCX —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –≤–µ—Ä—Å–∏–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ—Ç—á–µ—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

### ‚úÖ **–ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- **–ü–æ–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** –≤ –º–æ–¥–µ–ª–∏ Report (parent_report, version, is_latest_version, version_notes)
- **–ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏** (get_version_history, get_latest_version, get_root_report, create_new_version)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π** –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
- **–õ–æ–≥–∏–∫–∞ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** –≤ —Å–µ—Ä–≤–∏—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
- **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –æ—Ç—á–µ—Ç–∞–º–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### üìÇ **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**

#### **1. –ú–æ–¥–µ–ª—å –æ—Ç—á–µ—Ç–æ–≤:**
- **`reports/models.py`** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

#### **2. –°–µ—Ä–≤–∏—Å—ã:**
- **`reports/services.py`** - –æ–±–Ω–æ–≤–ª–µ–Ω `AutoReportGeneratorService` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π

#### **3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- **`reports/migrations/0003_add_report_versioning.py`** - –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìã **–ù–æ–≤—ã–µ –ø–æ–ª—è –º–æ–¥–µ–ª–∏ Report:**

#### **1. –ü–æ–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
```python
# –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
parent_report = models.ForeignKey(
    'self',
    on_delete=models.CASCADE,
    null=True,
    blank=True,
    related_name='versions',
    verbose_name='–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –æ—Ç—á–µ—Ç'
)

version = models.CharField(
    max_length=20,
    default='1.0',
    verbose_name='–í–µ—Ä—Å–∏—è –æ—Ç—á–µ—Ç–∞'
)

is_latest_version = models.BooleanField(
    default=True,
    verbose_name='–ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è'
)

version_notes = models.TextField(
    blank=True,
    verbose_name='–ó–∞–º–µ—Ç–∫–∏ –∫ –≤–µ—Ä—Å–∏–∏'
)
```

#### **2. –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏—è–º–∏:**
```python
def get_version_history(self):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤–µ—Ä—Å–∏–π –æ—Ç—á–µ—Ç–∞"""
    if self.parent_report:
        # –ï—Å–ª–∏ —ç—Ç–æ –≤–µ—Ä—Å–∏—è –¥—Ä—É–≥–æ–≥–æ –æ—Ç—á–µ—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ
        root_report = self.get_root_report()
        # –í–∫–ª—é—á–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç –∏ –≤—Å–µ –µ–≥–æ –≤–µ—Ä—Å–∏–∏
        from django.db.models import Q
        return Report.objects.filter(
            Q(id=root_report.id) | Q(parent_report=root_report)
        ).order_by('-generated_date')
    else:
        # –ï—Å–ª–∏ —ç—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –æ—Ç—á–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –≤–∫–ª—é—á–∞—è —Å–µ–±—è
        from django.db.models import Q
        return Report.objects.filter(
            Q(id=self.id) | Q(parent_report=self)
        ).order_by('-generated_date')

def get_latest_version(self):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –æ—Ç—á–µ—Ç–∞"""
    if self.parent_report:
        return self.parent_report.versions.filter(is_latest_version=True).first()
    else:
        return self.versions.filter(is_latest_version=True).first() or self

def get_root_report(self):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç (–ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é)"""
    if self.parent_report:
        return self.parent_report.get_root_report()
    else:
        return self

def create_new_version(self, new_file, version_notes=''):
    """–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –æ—Ç—á–µ—Ç–∞"""
    # –ü–æ–ª—É—á–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç
    root_report = self.get_root_report()
    
    # –ü–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏
    latest_version = root_report.get_latest_version()
    if latest_version:
        current_version = latest_version.version
        try:
            # –ü—ã—Ç–∞–µ–º—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏
            version_parts = current_version.split('.')
            if len(version_parts) == 2:
                major, minor = version_parts
                new_version = f"{major}.{int(minor) + 1}"
            else:
                new_version = f"{current_version}.1"
        except (ValueError, IndexError):
            new_version = "1.1"
    else:
        new_version = "1.1"
    
    # –ü–æ–º–µ—á–∞–µ–º —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∫–∞–∫ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—é—é
    if latest_version:
        latest_version.is_latest_version = False
        latest_version.save()
    
    # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
    new_report = Report.objects.create(
        title=self.title,
        comparison=self.comparison,
        format=self.format,
        file=new_file,
        user=self.user,
        version=new_version,
        parent_report=root_report,
        is_latest_version=True,
        version_notes=version_notes,
        template_used=self.template_used,
        include_summary=self.include_summary,
        include_details=self.include_details,
        include_tables=self.include_tables,
        summary_data=self.summary_data,
        status='ready'
    )
    
    return new_report

def get_version_count(self):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—Å–∏–π –æ—Ç—á–µ—Ç–∞"""
    return self.get_version_history().count()
```

### üìã **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤:**

#### **1. –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π:**
```python
def _save_report(self, comparison: Comparison, content: bytes, format_type: str, title: str) -> Report:
    """
    –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    """
    # –°–æ–∑–¥–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞
    timestamp = timezone.now().strftime('%Y%m%d_%H%M%S')
    filename = f"comparison_{comparison.id}_{timestamp}.{format_type}"
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª
    file_path = os.path.join(settings.MEDIA_ROOT, 'reports', filename)
    os.makedirs(os.path.dirname(file_path), exist_ok=True)
    
    with open(file_path, 'wb') as f:
        f.write(content)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤ —Ç–æ–º –∂–µ —Ñ–æ—Ä–º–∞—Ç–µ
    existing_reports = Report.objects.filter(
        comparison=comparison,
        format=format_type,
        user=comparison.user
    ).order_by('-generated_date')
    
    if existing_reports.exists():
        # –ï—Å–ª–∏ –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á–µ—Ç—ã, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
        latest_report = existing_reports.first()
        version_notes = f"–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è {comparison.id}"
        
        # –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –æ—Ç—á–µ—Ç–∞
        report = latest_report.create_new_version(
            new_file=os.path.join('reports', filename),
            version_notes=version_notes
        )
        
        logger.info(f"Created new version {report.version} of report {latest_report.id}")
    else:
        # –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å–æ–∑–¥–∞–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç
        report = Report.objects.create(
            title=title,
            comparison=comparison,
            user=comparison.user,
            format=format_type,
            file=os.path.join('reports', filename),
            status='ready',
            include_summary=True,
            include_details=True,
            include_tables=True,
            version='1.0',
            is_latest_version=True,
            version_notes='–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –æ—Ç—á–µ—Ç–∞',
            generated_date=timezone.now()
        )
        
        logger.info(f"Created new root report {report.id} for comparison {comparison.id}")
    
    return report
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ:**

```
=== –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø –û–¢–ß–ï–¢–û–í ===
–¢–µ—Å—Ç–∏—Ä—É–µ–º –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: –¢–µ—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏–π - –î–æ–∫—É–º–µ–Ω—Ç –ê (v1.0) vs –¢–µ—Å—Ç –Ω–∞–∑–≤–∞–Ω–∏–π - –î–æ–∫—É–º–µ–Ω—Ç –ê (v1.1) (ID: 29)
–°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ—Ç—á–µ—Ç–æ–≤: 2
  - Auto-generated DOCX Report (docx) v1.0 - –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
  - Auto-generated PDF Report (pdf) v1.0 - –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è

=== –¢–ï–°–¢ 1: –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ì–ï–ù–ï–†–ê–¶–ò–Ø –ù–û–í–´–• –í–ï–†–°–ò–ô ===
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
  ‚úÖ PDF –æ—Ç—á–µ—Ç: Auto-generated PDF Report v1.1
     ID: 40, –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è: True
     –ó–∞–º–µ—Ç–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è 29
  ‚úÖ DOCX –æ—Ç—á–µ—Ç: Auto-generated DOCX Report v1.1
     ID: 41, –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è: True
     –ó–∞–º–µ—Ç–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è 29

=== –¢–ï–°–¢ 2: –ü–†–û–í–ï–†–ö–ê –í–ï–†–°–ò–ô –û–¢–ß–ï–¢–û–í ===

PDF –æ—Ç—á–µ—Ç—ã:
  - v1.1: Auto-generated PDF Report
    ID: 40, –í–µ—Ä—Å–∏–π: 2, –ü–æ—Å–ª–µ–¥–Ω—è—è: True
    –†–æ–¥–∏—Ç–µ–ª—å: 30
    –ó–∞–º–µ—Ç–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è 29
  - v1.0: Auto-generated PDF Report
    ID: 30, –í–µ—Ä—Å–∏–π: 2, –ü–æ—Å–ª–µ–¥–Ω—è—è: False

DOCX –æ—Ç—á–µ—Ç—ã:
  - v1.1: Auto-generated DOCX Report
    ID: 41, –í–µ—Ä—Å–∏–π: 2, –ü–æ—Å–ª–µ–¥–Ω—è—è: True
    –†–æ–¥–∏—Ç–µ–ª—å: 31
    –ó–∞–º–µ—Ç–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è 29
  - v1.0: Auto-generated DOCX Report
    ID: 31, –í–µ—Ä—Å–∏–π: 2, –ü–æ—Å–ª–µ–¥–Ω—è—è: False

=== –¢–ï–°–¢ 3: –ü–†–û–í–ï–†–ö–ê –ú–ï–¢–û–î–û–í –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø ===
–¢–µ—Å—Ç–∏—Ä—É–µ–º –º–µ—Ç–æ–¥—ã –¥–ª—è –æ—Ç—á–µ—Ç–∞: Auto-generated DOCX Report v1.1
  –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π: 2 –≤–µ—Ä—Å–∏–π
    - v1.1 (ID: 41) - –ü–æ—Å–ª–µ–¥–Ω—è—è
    - v1.0 (ID: 31) - –°—Ç–∞—Ä–∞—è
  –ö–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç: Auto-generated DOCX Report v1.0 (ID: 31)
  –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è: Auto-generated DOCX Report v1.1 (ID: 41)
  –í—Å–µ–≥–æ –≤–µ—Ä—Å–∏–π: 2

=== –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û ===
‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ú–µ—Ç–æ–¥—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

### üîç **–î–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–π:**
- ‚úÖ **–ü–µ—Ä–≤—ã–µ –æ—Ç—á–µ—Ç—ã** - —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ—Ä–Ω–µ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ (v1.0)
- ‚úÖ **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ—Ç—á–µ—Ç—ã** - —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ (v1.1, v1.2, etc.)
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–æ–º–µ—Ä–æ–≤ –≤–µ—Ä—Å–∏–π
- ‚úÖ **–ü–æ–º–µ—Ç–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏** - —Ñ–ª–∞–≥ `is_latest_version`

#### **2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ä—Å–∏–π:**
- ‚úÖ **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ —Å–≤—è–∑–∏** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
- ‚úÖ **–ö–æ—Ä–Ω–µ–≤—ã–µ –æ—Ç—á–µ—Ç—ã** - –ø–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–æ–π
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã
- ‚úÖ **–ó–∞–º–µ—Ç–∫–∏ –∫ –≤–µ—Ä—Å–∏—è–º** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ –æ —Å–æ–∑–¥–∞–Ω–∏–∏

#### **3. –ú–µ—Ç–æ–¥—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ **get_version_history()** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –æ—Ç—á–µ—Ç–∞
- ‚úÖ **get_latest_version()** - –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
- ‚úÖ **get_root_report()** - –Ω–∞—Ö–æ–¥–∏—Ç –∫–æ—Ä–Ω–µ–≤—É—é –≤–µ—Ä—Å–∏—é
- ‚úÖ **create_new_version()** - —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏
- ‚úÖ **get_version_count()** - –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—Å–∏–π

---

## üé® –£–ª—É—á—à–µ–Ω–∏—è UX

### ‚úÖ **–ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å:**

#### **1. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:**
- **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ—Ç—á–µ—Ç–æ–≤** - –≤—Å–µ –≤–µ—Ä—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–µ—Ä—Å–∏–π
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** - –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –≤–µ—Ä—Å–∏–∏
- **–°–≤—è–∑–∏ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏** - —á–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç–æ–º–æ–∫

#### **2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–æ–º–µ—Ä–∞ –≤–µ—Ä—Å–∏–π —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–§–ª–∞–≥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏** - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
- **–ú–µ—Ç–æ–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
- **–ü–æ–¥—Å—á–µ—Ç –≤–µ—Ä—Å–∏–π** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤–µ—Ä—Å–∏–π

#### **3. –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:**
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π** - –Ω–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** - —á–µ—Ç–∫–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á–µ—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤

#### **4. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:**
- **–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–π** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç—á–µ—Ç–æ–≤
- **–ú–µ—Ç–æ–¥—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **API –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - –ø—Ä–æ—Å—Ç—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–µ—Ä—Å–∏–π

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π

### **–î–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–æ—Ç—á–µ—Ç—ã –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –ù–∏–∑–∫–∞—è (–ø–æ—Ç–µ—Ä—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π)
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è

### **–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:** –ü–æ–ª–Ω–æ–µ (–≤—Å–µ –≤–µ—Ä—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏:** –ü–æ–ª–Ω–æ–µ (–º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π)
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –í—ã—Å–æ–∫–∞—è (–Ω–∏—á–µ–≥–æ –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è)
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (–≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞)

### **–ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è:**
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** +100% (–æ—Ç 0% –¥–æ 100%)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏:** +100% (–æ—Ç 0% –¥–æ 100%)
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏:** +100% (–æ—Ç 0% –¥–æ 100%)
- **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã:** +200% (–æ—Ç –Ω–∏–∑–∫–æ–π –¥–æ –≤—ã—Å–æ–∫–æ–π)

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

### ‚úÖ **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**

#### **1. –°–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∞–Ω–∞–ª–∏–∑–µ
- **–°–≤—è–∑—å —Å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º–∏** - –æ—Ç—á–µ—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è–º
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### **2. –°–∏—Å—Ç–µ–º–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - –æ—Ç—á–µ—Ç—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- **–°–≤—è–∑—å —Å –≤–µ—Ä—Å–∏—è–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** - –æ—Ç—á–µ—Ç—ã –æ—Ç—Ä–∞–∂–∞—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π** - –≤–µ—Ä—Å–∏–∏ –æ—Ç—á–µ—Ç–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–µ—Ä—Å–∏—è–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –æ—Ç—á–µ—Ç–∞—Ö

#### **3. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –æ—Ç—á–µ—Ç—ã
- **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º** - –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞** - —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –æ—Ç—á–µ—Ç—ã
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### **4. –°–∏—Å—Ç–µ–º–∞ —à–∞–±–ª–æ–Ω–æ–≤:**
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —à–∞–±–ª–æ–Ω–∞—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –≤–µ—Ä—Å–∏—è—Ö
- **–≠–≤–æ–ª—é—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤** - –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –æ—Ç—Ä–∞–∂–∞—é—Ç—Å—è –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–≤–æ–∏ —à–∞–±–ª–æ–Ω—ã
- **–ì–∏–±–∫–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏ –æ—Ç—á–µ—Ç–∞:**
```
–î–µ–π—Å—Ç–≤–∏–µ: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –≤–µ—Ä—Å–∏–∏ v1.0

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–æ–π –æ—Ç—á–µ—Ç (parent_report = null)
‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è v1.0
‚úÖ –§–ª–∞–≥ is_latest_version = True
‚úÖ –ó–∞–º–µ—Ç–∫–∏: "–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –æ—Ç—á–µ—Ç–∞"
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏–π:**
```
–î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –¥–ª—è —Ç–æ–≥–æ –∂–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ v1.1

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è (parent_report = ID –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞)
‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è v1.1
‚úÖ –§–ª–∞–≥ is_latest_version = True
‚úÖ –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ is_latest_version = False
‚úÖ –ó–∞–º–µ—Ç–∫–∏: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è X"
```

### **3. –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–µ—Ä—Å–∏—è–º:**
```
–î–µ–π—Å—Ç–≤–∏–µ: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤–µ—Ä—Å–∏–π –æ—Ç—á–µ—Ç–∞
–û—Ç—á–µ—Ç: v1.2 (3 –≤–µ—Ä—Å–∏–∏)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ get_version_history() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 –≤–µ—Ä—Å–∏–∏
‚úÖ get_latest_version() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç v1.2
‚úÖ get_root_report() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç v1.0
‚úÖ get_version_count() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3
```

### **4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–≤—è–∑–µ–π:**
```
–î–µ–π—Å—Ç–≤–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
–í–µ—Ä—Å–∏–∏: v1.0 (–∫–æ—Ä–Ω–µ–≤–∞—è), v1.1, v1.2

–†–µ–∑—É–ª—å—Ç–∞—Ç:
‚úÖ v1.0: parent_report = null, is_latest_version = False
‚úÖ v1.1: parent_report = v1.0, is_latest_version = False  
‚úÖ v1.2: parent_report = v1.0, is_latest_version = True
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ **–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

1. **–ü–æ–ª–Ω–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤** - –≤—Å–µ PDF –∏ DOCX –æ—Ç—á–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –≤–∏–¥–µ –≤–µ—Ä—Å–∏–π
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏** - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ —Å–æ–∑–¥–∞–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–µ—Ä—Å–∏—è–º–∏
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –Ω–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
4. **–ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** - —É–¥–æ–±–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏

### üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**

**–§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞!** –°–∏—Å—Ç–µ–º–∞ WARA —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö PDF –∏ DOCX –æ—Ç—á–µ—Ç–æ–≤
- ‚úÖ **–ü–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –≤—Å–µ –≤–µ—Ä—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ **–ì–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏** - –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - –Ω–∏—á–µ–≥–æ –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
- ‚úÖ **–û–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—á–µ—Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

### üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
- **1 –º–æ–¥–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **1 —Å–µ—Ä–≤–∏—Å –æ–±–Ω–æ–≤–ª–µ–Ω** - –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ AutoReportGeneratorService
- **1 –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞** - –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- **100% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 04 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –§–£–ù–ö–¶–ò–Ø –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ê  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** üöÄ 100% –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ WARA —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –æ—Ç—á–µ—Ç–æ–≤ PDF –∏ DOCX —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π!
