{% extends 'base/base.html' %}

{% block title %}–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6 col-lg-4">
        <div class="card">
            <div class="card-header text-center">
                <h4 class="mb-0">üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h4>
                <p class="text-muted mb-0">{{ app_name|default:"üìä –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤" }} - {{ app_description|default:"–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤" }}</p>
            </div>
            <div class="card-body">
                {% if form.errors %}
                    <div class="alert alert-danger">
                        <strong>–û—à–∏–±–∫–∞!</strong> –ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å.
                    </div>
                {% endif %}
                
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="id_username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                        <input type="text" class="form-control" id="id_username" name="username" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="id_password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                        <input type="password" class="form-control" id="id_password" name="password" required>
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            –í–æ–π—Ç–∏
                        </button>
                    </div>
                </form>
            </div>
            <div class="card-footer text-center">
                <small class="text-muted">
                    –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? 
                    <a href="{% url 'users:register' %}" class="text-decoration-none">
                        –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                    </a>
                </small>
            </div>
        </div>
        
        <!-- Microsoft AD SSO Login -->
        {% if microsoft_ad_enabled %}
        <div class="card mt-3">
            <div class="card-header text-center">
                <h6 class="mb-0">
                    <i class="fab fa-microsoft text-primary"></i>
                    –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Microsoft Active Directory
                </h6>
            </div>
            <div class="card-body text-center">
                <p class="text-muted small mb-3">
                    –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å Microsoft
                    {% if microsoft_ad_domain %}
                    <br><strong>–î–æ–º–µ–Ω: {{ microsoft_ad_domain }}</strong>
                    {% endif %}
                </p>
                <a href="{% url 'microsoft_ad:login' %}" class="btn btn-outline-primary">
                    <i class="fab fa-microsoft"></i>
                    –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Microsoft AD
                </a>
            </div>
        </div>
        {% endif %}
        
        <div class="text-center mt-4">
            <div class="card">
                <div class="card-body">
                    <h6>–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã:</h6>
                    <div class="row">
                        <div class="col-6">
                            <strong>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</strong><br>
                            <small class="text-muted">admin / admin123</small>
                        </div>
                        <div class="col-6">
                            <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong><br>
                            <small class="text-muted">user / user123</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
